<!DOCTYPE html>
<html>
<head>
    <title>SL YouTube Audio Player</title>
    <style>
        body { margin: 0; background: #000; }
        #player { display: none; } /* 完全隐藏播放器 */
    </style>
</head>
<body>
    <div id="player"></div>
    
    <script>
        // 优先解析URL参数
        const urlParams = new URLSearchParams(window.location.search);
        const cmd = urlParams.get('cmd');
        const param = urlParams.get('param');
        const videoId = urlParams.get('videoId') || 'SikaVj98eeQ'; // 默认视频ID
        
        let player;
        
        // 命令处理函数
        function handleCommand() {
            if (!player) return;
            
            switch(cmd) {
                case 'play':
                    player.playVideo();
                    break;
                case 'pause':
                    player.pauseVideo();
                    break;
                case 'volume':
                    player.setVolume(parseInt(param));
                    break;
                case 'load':
                    player.loadVideoById(param);
                    break;
            }
        }
        
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId, // 使用单视频模式
                playerVars: {
                    autoplay: 1,
                    controls: 0,
                    modestbranding: 1,
                    rel: 0,
                    mute: 1 // 初始静音避免自动播放限制
                },
                events: {
                    'onReady': function(event) {
                        // 自动播放已在参数设置
                        handleCommand(); // 执行传入的命令
                    }
                }
            });
        }
    </script>
    <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
